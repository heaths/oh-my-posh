# yaml-language-server: $schema=https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json
version: 2
console_title_template: "{{ .Shell }} in {{ .Folder }}"
final_space: true

palette:
  blue: "31"
  darkgray: "236"
  darkred: "52"
  gray: "240"
  green: "2"
  lightgray: "252"
  purple: "55"
  red: "1"
  yellow: "3"
  white: "231"

blocks:
- type: prompt
  alignment: left
  segments:
  - type: shell
    style: diamond
    foreground: p:white
    background: p:purple
    properties:
      mapped_shell_names:
        powershell: PS
        pwsh: PS

  - type: executiontime
    style: powerline
    powerline_symbol: ""
    foreground: p:white
    background: p:darkgray
    properties:
      style: austin

  - type: session
    style: powerline
    powerline_symbol: ""
    foreground: p:white
    background: p:blue
    template: " {{ if .SSHSession }} {{ end }}{{ .UserName }} "

  - type: path
    style: powerline
    powerline_symbol: ""
    foreground: p:white
    background: p:gray
    template: "  {{ path .Path .Location }} "
    properties:
      style: full

  - type: git
    style: powerline
    powerline_symbol: ""
    foreground: p:white
    foreground_templates:
    - "{{ if or (.Working.Changed) (.Staging.Changed) }}p:black{{ end }}"
    - "{{ if and (gt .Ahead 0) (gt .Behind 0) }}p:white{{ end }}"
    - "{{ if gt .Ahead 0 }}p:white{{ end }}"
    background: p:green
    background_templates:
    - "{{ if or (.Working.Changed) (.Staging.Changed) }}p:yellow{{ end }}"
    - "{{ if and (gt .Ahead 0) (gt .Behind 0) }}p:red{{ end }}"
    - "{{ if gt .Ahead 0 }}p:yellow{{ end }}"
    - "{{ if gt .Behind 0 }}p:white{{ end }}"
    template: " {{ if .UpstreamURL }}{{ url .UpstreamIcon .UpstreamURL }}{{ end }}{{
      .HEAD }}{{if .BranchStatus }} {{ .BranchStatus }}{{ end }}{{ if .Working.Changed
      }}  {{ .Working.String }}{{ end }}{{ if .Staging.Changed }}  {{ .Staging.String
      }}{{ end }} "
    properties:
      branch_icon: " "
      branch_max_length: 25
      fetch_status: true

  - type: root
    style: powerline
    powerline_symbol: ""
    foreground: p:white
    background: p:yellow
    template: "  "

  - type: exit
    style: diamond
    foreground: p:white
    background: p:blue
    background_templates:
    - "{{ if gt .Code 0 }}p:red{{ end }}"
    trailing_diamond: ""
    properties:
      always_enable: true

debug_prompt:
  foregrond: p:white
  background: p:red
  template: "DBG"

secondary_prompt:
  background: transparent
  template: "<p:white,p:gray> </><p:gray,transparent></> "

transient_prompt:
  background: transparent
  template: "{{ if .Segments.Executiontime.FormattedMs }}<p:white,p:darkgray> {{ .Segments.Executiontime.FormattedMs }}
    </><p:darkgray,p:gray></>{{end}}<p:white,p:gray>  {{ path .PWD .Folder }} </><p:gray,transparent></> "

tooltips:
- type: az
  tips:
  - az
  style: diamond
  foreground: p:white
  background: p:blue
  leading_diamond: ""
  trailing_diamond: ""
  template: "ﴃ {{ .Name }}"
  properties:
    display_default: true

# vim: set et sw=2:
